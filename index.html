<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>اكزم لتداول</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- شاشة التحميل -->
    <div id="loadingScreen">
        <div class="loader">
            <div class="logo">
                <i class="fas fa-chart-line"></i>
                <h1>اكزم لتداول</h1>
            </div>
            <div class="spinner"></div>
            <p>جاري التحميل...</p>
        </div>
    </div>

    <!-- شاشة تسجيل الدخول / إنشاء حساب -->
    <div id="authScreen" class="screen">
        <div class="auth-container">
            <div class="auth-header">
                <i class="fas fa-chart-line"></i>
                <h1>اكزم لتداول</h1>
                <p>التطبيق التعليمي الاحترافي للتداول</p>
            </div>

            <div id="loginForm">
                <h2>تسجيل الدخول</h2>
                <div class="input-group">
                    <i class="fas fa-envelope"></i>
                    <input type="email" id="loginEmail" placeholder="البريد الإلكتروني" required>
                </div>
                <div class="input-group">
                    <i class="fas fa-lock"></i>
                    <input type="password" id="loginPassword" placeholder="كلمة المرور" required>
                </div>
                <button id="loginBtn" class="btn-primary">
                    <i class="fas fa-sign-in-alt"></i> تسجيل الدخول
                </button>
                <p class="switch-auth">ليس لديك حساب؟ <a href="#" id="showRegister">أنشئ حساب جديد</a></p>
            </div>

            <div id="registerForm" style="display: none;">
                <h2>إنشاء حساب جديد</h2>
                <div class="input-group">
                    <i class="fas fa-user"></i>
                    <input type="text" id="registerName" placeholder="الاسم الكامل" required>
                </div>
                <div class="input-group">
                    <i class="fas fa-at"></i>
                    <input type="text" id="registerUsername" placeholder="اسم المستخدم" required>
                    <small>يبدأ بحرف، 4 رموز على الأقل</small>
                </div>
                <div class="input-group">
                    <i class="fas fa-envelope"></i>
                    <input type="email" id="registerEmail" placeholder="البريد الإلكتروني" required>
                </div>
                <div class="input-group">
                    <i class="fas fa-lock"></i>
                    <input type="password" id="registerPassword" placeholder="كلمة المرور" required>
                </div>
                <div class="input-group">
                    <i class="fas fa-image"></i>
                    <input type="file" id="registerPhoto" accept="image/*">
                    <small>اختياري: صورة الحساب</small>
                </div>
                <button id="registerBtn" class="btn-primary">
                    <i class="fas fa-user-plus"></i> إنشاء حساب
                </button>
                <p class="switch-auth">لديك حساب بالفعل؟ <a href="#" id="showLogin">تسجيل الدخول</a></p>
            </div>

            <div class="admin-link">
                <a href="admin.html" id="adminAccess">الدخول كأدمن</a>
            </div>
        </div>
    </div>

    <!-- التطبيق الرئيسي -->
    <div id="appScreen" class="screen" style="display: none;">
        <!-- الشريط العلوي -->
        <div class="top-bar">
            <button class="menu-btn" id="menuBtn">
                <i class="fas fa-bars"></i>
            </button>
            <h2 id="pageTitle">الرئيسية</h2>
            <button class="back-btn" id="backBtn" style="display: none;">
                <i class="fas fa-arrow-right"></i>
            </button>
        </div>

        <!-- المحتوى الرئيسي -->
        <div id="mainContent" class="content">
            <!-- محتوى الصفحات سيتم تحميله هنا -->
        </div>

        <!-- الشريط السفلي -->
        <div class="bottom-nav">
            <button class="nav-btn" data-page="account">
                <i class="fas fa-user"></i>
                <span>الحساب</span>
            </button>
            <button class="nav-btn active" data-page="home">
                <i class="fas fa-home"></i>
                <span>الرئيسية</span>
            </button>
            <button class="nav-btn" data-page="courses">
                <i class="fas fa-graduation-cap"></i>
                <span>الدورات</span>
            </button>
            <button class="nav-btn" data-page="premium">
                <i class="fas fa-crown"></i>
                <span>المتقدمين</span>
            </button>
            <button class="nav-btn" data-page="tools">
                <i class="fas fa-tools"></i>
                <span>الأدوات</span>
            </button>
        </div>

        <!-- القائمة الجانبية -->
        <div class="sidebar-overlay" id="sidebarOverlay"></div>
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <img id="sidebarUserPhoto" src="" alt="" onerror="this.src='https://ui-avatars.com/api/?name=User&background=random'">
                <div>
                    <h3 id="sidebarUserName">اسم المستخدم</h3>
                    <p id="sidebarUserStatus">حساب عادي</p>
                </div>
                <button class="close-sidebar" id="closeSidebar">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="sidebar-menu">
                <a href="#" data-page="account"><i class="fas fa-user"></i> الحساب</a>
                <a href="#" data-page="home"><i class="fas fa-home"></i> الرئيسية</a>
                <a href="#" data-page="courses"><i class="fas fa-graduation-cap"></i> الدورات</a>
                <a href="#" data-page="premium"><i class="fas fa-crown"></i> المتقدمين</a>
                <a href="#" data-page="tools"><i class="fas fa-tools"></i> الأدوات</a>
                <hr>
                <a href="#" id="supportBtn"><i class="fas fa-headset"></i> الدعم الفني</a>
                <a href="#" id="privacyBtn"><i class="fas fa-shield-alt"></i> سياسة الخصوصية</a>
                <a href="#" id="aboutBtn"><i class="fas fa-info-circle"></i> من نحن</a>
                <hr>
                <h4>روابط التواصل:</h4>
                <a href="https://wa.me/442031375274" target="_blank"><i class="fab fa-whatsapp"></i> الدعم الفني</a>
                <a href="https://t.me/ASQ412" target="_blank"><i class="fab fa-telegram"></i> حساب المطور</a>
                <a href="https://t.me/pine_Scripts0" target="_blank"><i class="fab fa-telegram"></i> قناة تلجرام</a>
            </div>
        </div>

        <!-- دعم الفني العائم -->
        <div class="support-float" id="supportFloat" draggable="true">
            <i class="fas fa-headset"></i>
            <span class="notification-badge" id="messageCount">0</span>
        </div>
    </div>

    <!-- نافذة الدعم الفني -->
    <div class="support-modal" id="supportModal">
        <div class="support-content">
            <div class="support-header">
                <h3><i class="fas fa-headset"></i> الدعم الفني</h3>
                <button class="close-modal" id="closeSupport">&times;</button>
            </div>
            <div class="messages-container" id="messagesContainer">
                <!-- الرسائل تظهر هنا -->
            </div>
            <div class="message-input">
                <input type="text" id="messageInput" placeholder="اكتب رسالتك هنا...">
                <button id="sendMessage"><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>
    </div>

    <!-- نافذة إدخال كود Premium -->
    <div class="modal" id="premiumModal">
        <div class="modal-content">
            <h3><i class="fas fa-crown"></i> تفعيل Premium</h3>
            <p>أدخل كود التفعيل لفتح المحتوى المميز</p>
            <input type="text" id="premiumCode" placeholder="أدخل الكود هنا">
            <div class="modal-buttons">
                <button class="btn-secondary" id="cancelPremium">إلغاء</button>
                <button class="btn-primary" id="activatePremium">تفعيل</button>
            </div>
        </div>
    </div>

    <!-- نافذة التأكيد -->
    <div class="modal" id="confirmModal">
        <div class="modal-content">
            <h3 id="confirmTitle">تأكيد العملية</h3>
            <p id="confirmMessage">هل أنت متأكد من تنفيذ هذه العملية؟</p>
            <div class="modal-buttons">
                <button class="btn-secondary" id="confirmCancel">إلغاء</button>
                <button class="btn-danger" id="confirmOk">نعم</button>
            </div>
        </div>
    </div>

    <!-- مشغل الفيديو -->
    <div class="video-modal" id="videoModal">
        <div class="video-container">
            <div class="video-header">
                <h3 id="videoTitle"></h3>
                <button class="close-video" id="closeVideo">&times;</button>
            </div>
            <div class="video-wrapper">
                <iframe id="videoPlayer" frameborder="0" allowfullscreen></iframe>
            </div>
            <div class="video-info" id="videoInfo">
                <!-- معلومات الكورس تظهر هنا -->
            </div>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-storage-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-messaging-compat.js"></script>
    <script src="app.js"></script>
</body>
</html>