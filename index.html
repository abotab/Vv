<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù„ÙŠØ²ÙŠ Ø±Ù…Ø¶Ø§Ù†</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;800&display=swap');

* {
margin: 0;
padding: 0;
box-sizing: border-box;
}

:root {
--primary: #6b4f9b;
--secondary: #e6d7f7;
--gold: #d4af37;
--dark: #2c1a4d;
--light: #f8f5fc;
--success: #4caf50;
--danger: #f44336;
--warning: #ff9800;
--gradient-1: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
--gradient-2: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
--gradient-3: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
--gradient-ramadan: linear-gradient(135deg, #6b4f9b 0%, #d4af37 50%, #6b4f9b 100%);
--shadow: 0 10px 30px rgba(107, 79, 155, 0.2);
--shadow-lg: 0 20px 60px rgba(107, 79, 155, 0.3);
}

body {
font-family: 'Cairo', sans-serif;
background: linear-gradient(135deg, #f8f5fc 0%, #e6d7f7 100%);
color: var(--dark);
overflow-x: hidden;
min-height: 100vh;
}

.container {
max-width: 1400px;
margin: 0 auto;
padding: 20px;
}

header {
background: var(--gradient-ramadan);
padding: 20px;
box-shadow: var(--shadow);
position: sticky;
top: 0;
z-index: 1000;
animation: slideDown 0.5s ease;
}

@keyframes slideDown {
from { transform: translateY(-100%); }
to { transform: translateY(0); }
}

@keyframes pulse {
0%, 100% { transform: scale(1); opacity: 0.9; }
50% { transform: scale(1.05); opacity: 1; }
}

@keyframes glow {
0%, 100% { text-shadow: 0 0 10px rgba(212, 175, 55, 0.5); }
50% { text-shadow: 0 0 20px rgba(212, 175, 55, 0.8), 0 0 30px rgba(212, 175, 55, 0.6); }
}

.logo-container {
text-align: center;
margin-bottom: 15px;
}

.app-logo {
font-size: 2.5em;
font-weight: 800;
color: var(--gold);
animation: pulse 3s infinite, glow 2s infinite;
text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
display: inline-block;
}

.app-logo::before {
content: 'ğŸŒ™ ';
}

.app-logo::after {
content: ' â­';
}

.nav-menu {
display: flex;
gap: 10px;
justify-content: center;
flex-wrap: wrap;
}

.nav-btn {
background: rgba(255,255,255,0.2);
border: 2px solid rgba(255,255,255,0.3);
padding: 10px 20px;
border-radius: 25px;
color: white;
font-weight: 600;
cursor: pointer;
transition: all 0.3s;
backdrop-filter: blur(10px);
}

.nav-btn:hover, .nav-btn.active {
background: rgba(255,255,255,0.4);
transform: translateY(-2px);
box-shadow: 0 5px 15px rgba(0,0,0,0.2);
}

.section {
display: none;
animation: fadeIn 0.5s ease;
}

.section.active {
display: block;
}

@keyframes fadeIn {
from { opacity: 0; transform: translateY(20px); }
to { opacity: 1; transform: translateY(0); }
}

.home-section {
text-align: center;
padding: 30px 20px;
}

.date-switcher {
display: flex;
justify-content: center;
gap: 15px;
margin: 20px 0;
}

.date-btn {
background: white;
border: 2px solid var(--primary);
padding: 12px 25px;
border-radius: 15px;
cursor: pointer;
font-weight: 600;
color: var(--primary);
transition: all 0.3s;
}

.date-btn.active {
background: var(--primary);
color: white;
}

.date-display {
background: white;
padding: 30px;
border-radius: 20px;
box-shadow: var(--shadow);
margin: 20px 0;
}

.date-display h2 {
font-size: 2em;
color: var(--primary);
margin-bottom: 10px;
}

.countdown-timer {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
gap: 15px;
margin: 30px 0;
}

.time-box {
background: var(--gradient-1);
padding: 20px;
border-radius: 15px;
color: white;
box-shadow: var(--shadow);
}

.time-box .number {
font-size: 2.5em;
font-weight: 700;
display: block;
}

.time-box .label {
font-size: 0.9em;
opacity: 0.9;
}

.prayer-times {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
gap: 15px;
margin: 30px 0;
}

.prayer-card {
background: white;
padding: 20px;
border-radius: 15px;
box-shadow: var(--shadow);
text-align: center;
transition: all 0.3s;
border: 3px solid transparent;
}

.prayer-card:hover {
transform: translateY(-5px);
box-shadow: var(--shadow-lg);
}

.prayer-card.active {
border-color: var(--gold);
background: var(--gradient-ramadan);
color: white;
}

.prayer-card .icon {
font-size: 2em;
margin-bottom: 10px;
}

.prayer-card .name {
font-weight: 700;
font-size: 1.1em;
margin-bottom: 5px;
}

.prayer-card .time {
font-size: 1.5em;
font-weight: 600;
color: var(--primary);
}

.prayer-card.active .time {
color: var(--gold);
}

.card-grid {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
gap: 20px;
margin: 20px 0;
}

.feature-card {
background: white;
padding: 25px;
border-radius: 20px;
box-shadow: var(--shadow);
transition: all 0.3s;
cursor: pointer;
border: 3px solid transparent;
}

.feature-card:hover {
transform: translateY(-5px);
box-shadow: var(--shadow-lg);
border-color: var(--primary);
}

.feature-card .icon {
font-size: 3em;
margin-bottom: 15px;
}

.feature-card h3 {
color: var(--primary);
margin-bottom: 10px;
font-size: 1.3em;
}

.tasbih-container {
text-align: center;
padding: 40px;
}

.tasbih-counter {
background: var(--gradient-1);
width: 280px;
height: 280px;
border-radius: 50%;
margin: 30px auto;
display: flex;
flex-direction: column;
align-items: center;
justify-content: center;
box-shadow: var(--shadow-lg);
cursor: pointer;
transition: all 0.2s;
color: white;
}

.tasbih-counter:active {
transform: scale(0.95);
}

.tasbih-counter .count {
font-size: 5em;
font-weight: 800;
}

.tasbih-text {
background: rgba(255,255,255,0.9);
padding: 20px;
border-radius: 15px;
margin: 20px 0;
font-size: 1.5em;
font-weight: 600;
color: var(--primary);
}

.tasbih-presets {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
gap: 15px;
margin: 20px 0;
}

.preset-btn {
background: white;
border: 2px solid var(--primary);
padding: 15px;
border-radius: 15px;
cursor: pointer;
font-weight: 600;
transition: all 0.3s;
color: var(--primary);
}

.preset-btn:hover {
background: var(--primary);
color: white;
}

.quran-reader {
background: white;
padding: 30px;
border-radius: 20px;
box-shadow: var(--shadow);
max-width: 800px;
margin: 20px auto;
}

.surah-list {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
gap: 15px;
max-height: 600px;
overflow-y: auto;
padding: 10px;
}

.surah-item {
background: var(--light);
padding: 15px;
border-radius: 10px;
cursor: pointer;
transition: all 0.3s;
border: 2px solid transparent;
display: flex;
justify-content: space-between;
align-items: center;
}

.surah-item:hover {
background: var(--secondary);
border-color: var(--primary);
transform: translateX(-5px);
}

.surah-number {
background: var(--primary);
color: white;
width: 40px;
height: 40px;
border-radius: 50%;
display: flex;
align-items: center;
justify-content: center;
font-weight: 700;
}

.azkar-container {
max-width: 900px;
margin: 20px auto;
}

.azkar-type-selector {
display: flex;
gap: 15px;
justify-content: center;
margin-bottom: 30px;
}

.azkar-card {
background: white;
padding: 25px;
border-radius: 15px;
box-shadow: var(--shadow);
margin-bottom: 20px;
}

.azkar-text {
font-size: 1.3em;
line-height: 2;
color: var(--dark);
margin-bottom: 15px;
text-align: justify;
}

.azkar-count {
background: var(--gradient-1);
color: white;
padding: 10px 20px;
border-radius: 25px;
display: inline-block;
font-weight: 600;
}

.dua-container {
max-width: 900px;
margin: 20px auto;
}

.dua-categories {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
gap: 15px;
margin-bottom: 30px;
}

.dua-card {
background: white;
padding: 25px;
border-radius: 15px;
box-shadow: var(--shadow);
margin-bottom: 20px;
border-right: 5px solid var(--gold);
}

.dua-text {
font-size: 1.4em;
line-height: 2;
color: var(--dark);
margin-bottom: 15px;
}

.imsakiya-container {
background: white;
padding: 30px;
border-radius: 20px;
box-shadow: var(--shadow);
max-width: 900px;
margin: 20px auto;
}

.ramadan-calendar {
display: grid;
gap: 15px;
}

.day-card {
background: var(--light);
padding: 20px;
border-radius: 15px;
display: grid;
grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
gap: 15px;
border-right: 5px solid var(--primary);
transition: all 0.3s;
}

.day-card:hover {
background: var(--secondary);
transform: translateX(-5px);
}

.day-card.today {
background: var(--gradient-ramadan);
color: white;
border-right-color: var(--gold);
}

.time-item {
text-align: center;
}

.time-item .label {
font-size: 0.9em;
opacity: 0.8;
margin-bottom: 5px;
}

.time-item .time {
font-size: 1.3em;
font-weight: 700;
color: var(--primary);
}

.day-card.today .time-item .time {
color: var(--gold);
}

.qibla-compass {
background: white;
padding: 40px;
border-radius: 20px;
box-shadow: var(--shadow);
max-width: 500px;
margin: 20px auto;
text-align: center;
}

.compass-circle {
width: 300px;
height: 300px;
border-radius: 50%;
background: var(--gradient-1);
margin: 30px auto;
position: relative;
box-shadow: var(--shadow-lg);
display: flex;
align-items: center;
justify-content: center;
}

.compass-arrow {
font-size: 5em;
transition: transform 0.5s;
}

.qibla-degree {
font-size: 2em;
font-weight: 700;
color: var(--primary);
margin-top: 20px;
}

.recipes-container {
max-width: 1200px;
margin: 20px auto;
}

.recipe-categories {
display: flex;
gap: 15px;
flex-wrap: wrap;
justify-content: center;
margin-bottom: 30px;
}

.recipe-list {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
gap: 20px;
}

.recipe-card {
background: white;
border-radius: 20px;
box-shadow: var(--shadow);
overflow: hidden;
transition: all 0.3s;
cursor: pointer;
}

.recipe-card:hover {
transform: translateY(-5px);
box-shadow: var(--shadow-lg);
}

.recipe-header {
background: var(--gradient-1);
color: white;
padding: 20px;
}

.recipe-header h3 {
font-size: 1.3em;
margin-bottom: 10px;
}

.recipe-body {
padding: 20px;
}

.recipe-body p {
line-height: 1.8;
color: var(--dark);
}

.recipe-ingredients {
background: var(--light);
padding: 15px;
border-radius: 10px;
margin: 15px 0;
}

.recipe-ingredients ul {
list-style-position: inside;
}

.recipe-steps {
margin-top: 15px;
}

.recipe-steps ol {
list-style-position: inside;
line-height: 2;
}

.hadith-container {
max-width: 900px;
margin: 20px auto;
}

.hadith-card {
background: white;
padding: 30px;
border-radius: 20px;
box-shadow: var(--shadow);
margin-bottom: 20px;
border-top: 5px solid var(--gold);
}

.hadith-text {
font-size: 1.4em;
line-height: 2.2;
color: var(--dark);
margin-bottom: 20px;
text-align: justify;
background: var(--light);
padding: 20px;
border-radius: 10px;
border-right: 5px solid var(--primary);
}

.hadith-meta {
display: grid;
gap: 10px;
margin-top: 20px;
padding: 15px;
background: var(--secondary);
border-radius: 10px;
}

.hadith-meta div {
display: flex;
gap: 10px;
}

.hadith-meta strong {
color: var(--primary);
min-width: 100px;
}

.settings-container {
max-width: 800px;
margin: 20px auto;
}

.settings-group {
background: white;
padding: 25px;
border-radius: 15px;
box-shadow: var(--shadow);
margin-bottom: 20px;
}

.settings-group h3 {
color: var(--primary);
margin-bottom: 20px;
padding-bottom: 10px;
border-bottom: 2px solid var(--secondary);
}

.setting-item {
display: flex;
justify-content: space-between;
align-items: center;
padding: 15px 0;
border-bottom: 1px solid var(--light);
}

.setting-item:last-child {
border-bottom: none;
}

select, input[type="number"], input[type="checkbox"] {
padding: 10px;
border: 2px solid var(--secondary);
border-radius: 10px;
font-family: 'Cairo', sans-serif;
}

.adhan-selector {
display: grid;
gap: 15px;
}

.adhan-option {
background: var(--light);
padding: 15px;
border-radius: 10px;
cursor: pointer;
transition: all 0.3s;
border: 2px solid transparent;
display: flex;
justify-content: space-between;
align-items: center;
}

.adhan-option:hover {
background: var(--secondary);
}

.adhan-option.selected {
border-color: var(--primary);
background: var(--secondary);
}

.modal {
display: none;
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: rgba(0,0,0,0.8);
z-index: 2000;
align-items: center;
justify-content: center;
}

.modal.active {
display: flex;
}

.modal-content {
background: white;
padding: 30px;
border-radius: 20px;
max-width: 90%;
max-height: 90%;
overflow-y: auto;
animation: slideUp 0.3s ease;
}

@keyframes slideUp {
from { transform: translateY(100px); opacity: 0; }
to { transform: translateY(0); opacity: 1; }
}

.close-modal {
float: left;
font-size: 2em;
cursor: pointer;
color: var(--danger);
font-weight: 700;
}

video {
width: 100%;
max-width: 100%;
border-radius: 15px;
box-shadow: var(--shadow);
}

.notification {
position: fixed;
top: 100px;
right: 20px;
background: white;
padding: 20px 30px;
border-radius: 15px;
box-shadow: var(--shadow-lg);
z-index: 3000;
animation: slideIn 0.5s ease;
border-right: 5px solid var(--gold);
max-width: 400px;
}

@keyframes slideIn {
from { transform: translateX(500px); }
to { transform: translateX(0); }
}

.notification.hide {
animation: slideOut 0.5s ease forwards;
}

@keyframes slideOut {
to { transform: translateX(500px); }
}

.btn-primary {
background: var(--gradient-1);
color: white;
border: none;
padding: 12px 30px;
border-radius: 25px;
cursor: pointer;
font-weight: 600;
font-size: 1em;
transition: all 0.3s;
box-shadow: var(--shadow);
}

.btn-primary:hover {
transform: translateY(-2px);
box-shadow: var(--shadow-lg);
}

.btn-secondary {
background: white;
color: var(--primary);
border: 2px solid var(--primary);
padding: 12px 30px;
border-radius: 25px;
cursor: pointer;
font-weight: 600;
font-size: 1em;
transition: all 0.3s;
}

.btn-secondary:hover {
background: var(--primary);
color: white;
}

.loading {
text-align: center;
padding: 40px;
}

.spinner {
border: 5px solid var(--light);
border-top: 5px solid var(--primary);
border-radius: 50%;
width: 60px;
height: 60px;
animation: spin 1s linear infinite;
margin: 20px auto;
}

@keyframes spin {
to { transform: rotate(360deg); }
}

.search-box {
width: 100%;
padding: 15px;
border: 2px solid var(--secondary);
border-radius: 15px;
font-size: 1em;
font-family: 'Cairo', sans-serif;
margin-bottom: 20px;
}

.tips-container {
background: var(--light);
padding: 20px;
border-radius: 15px;
margin: 20px 0;
}

.tips-container h3 {
color: var(--primary);
margin-bottom: 15px;
}

.tips-container ul {
list-style-position: inside;
line-height: 2;
}

@media (max-width: 768px) {
.app-logo {
font-size: 1.8em;
}
.nav-menu {
flex-direction: column;
}
.countdown-timer {
grid-template-columns: repeat(2, 1fr);
}
.prayer-times {
grid-template-columns: repeat(2, 1fr);
}
.card-grid {
grid-template-columns: 1fr;
}
.tasbih-counter {
width: 220px;
height: 220px;
}
.tasbih-counter .count {
font-size: 3.5em;
}
}

.health-tips {
background: white;
padding: 25px;
border-radius: 15px;
box-shadow: var(--shadow);
margin: 20px 0;
}

.health-tips h3 {
color: var(--primary);
margin-bottom: 15px;
border-bottom: 3px solid var(--gold);
padding-bottom: 10px;
}

.health-tips ul {
list-style: none;
}

.health-tips li {
padding: 15px;
margin: 10px 0;
background: var(--light);
border-radius: 10px;
border-right: 4px solid var(--primary);
line-height: 1.8;
}

.health-tips li::before {
content: 'âœ“ ';
color: var(--success);
font-weight: 700;
margin-left: 10px;
}

::-webkit-scrollbar {
width: 10px;
}

::-webkit-scrollbar-track {
background: var(--light);
}

::-webkit-scrollbar-thumb {
background: var(--primary);
border-radius: 5px;
}

::-webkit-scrollbar-thumb:hover {
background: var(--dark);
}
</style>
</head>
<body>

<header>
<div class="logo-container">
<div class="app-logo">Ù„ÙŠØ²ÙŠ Ø±Ù…Ø¶Ø§Ù†</div>
</div>
<nav class="nav-menu">
<button class="nav-btn active" onclick="showSection('home')">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
<button class="nav-btn" onclick="showSection('prayers')">Ø§Ù„ØµÙ„ÙˆØ§Øª</button>
<button class="nav-btn" onclick="showSection('tasbih')">Ø§Ù„Ù…Ø³Ø¨Ø­Ø©</button>
<button class="nav-btn" onclick="showSection('quran')">Ø§Ù„Ù‚Ø±Ø¢Ù†</button>
<button class="nav-btn" onclick="showSection('azkar')">Ø§Ù„Ø£Ø°ÙƒØ§Ø±</button>
<button class="nav-btn" onclick="showSection('duas')">Ø§Ù„Ø£Ø¯Ø¹ÙŠØ©</button>
<button class="nav-btn" onclick="showSection('imsakiya')">Ø§Ù„Ø¥Ù…Ø³Ø§ÙƒÙŠØ©</button>
<button class="nav-btn" onclick="showSection('qibla')">Ø§Ù„Ù‚Ø¨Ù„Ø©</button>
<button class="nav-btn" onclick="showSection('recipes')">Ø§Ù„ÙˆØµÙØ§Øª</button>
<button class="nav-btn" onclick="showSection('hadith')">Ø§Ù„Ø£Ø­Ø§Ø¯ÙŠØ«</button>
<button class="nav-btn" onclick="showSection('settings')">Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</button>
</nav>
</header>

<div class="container">

<section id="home" class="section active">
<div class="home-section">
<h1>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù„ÙŠØ²ÙŠ Ø±Ù…Ø¶Ø§Ù†</h1>
<p style="font-size: 1.2em; margin: 15px 0;">Ø±ÙÙŠÙ‚Ùƒ Ø§Ù„Ù…Ø«Ø§Ù„ÙŠ ÙÙŠ Ø§Ù„Ø´Ù‡Ø± Ø§Ù„ÙØ¶ÙŠÙ„</p>

<div class="date-switcher">
<button class="date-btn active" onclick="switchDate('hijri')">Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‡Ø¬Ø±ÙŠ</button>
<button class="date-btn" onclick="switchDate('gregorian')">Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ</button>
</div>

<div class="date-display">
<h2 id="current-date">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</h2>
<p id="current-day" style="font-size: 1.3em; margin-top: 10px;"></p>
</div>

<div class="countdown-timer" id="countdown-timer"></div>

<div class="prayer-times" id="home-prayer-times"></div>

<div class="card-grid">
<div class="feature-card" onclick="showSection('quran')">
<div class="icon">ğŸ“–</div>
<h3>Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…</h3>
<p>Ø§Ù‚Ø±Ø£ ÙˆØ§Ø³ØªÙ…Ø¹ Ù„Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… ÙƒØ§Ù…Ù„Ø§Ù‹</p>
</div>
<div class="feature-card" onclick="showSection('azkar')">
<div class="icon">ğŸ“¿</div>
<h3>Ø§Ù„Ø£Ø°ÙƒØ§Ø±</h3>
<p>Ø£Ø°ÙƒØ§Ø± Ø§Ù„ØµØ¨Ø§Ø­ ÙˆØ§Ù„Ù…Ø³Ø§Ø¡</p>
</div>
<div class="feature-card" onclick="showSection('duas')">
<div class="icon">ğŸ¤²</div>
<h3>Ø§Ù„Ø£Ø¯Ø¹ÙŠØ©</h3>
<p>Ø£Ø¯Ø¹ÙŠØ© Ù…Ù† Ø§Ù„Ù‚Ø±Ø¢Ù† ÙˆØ§Ù„Ø³Ù†Ø©</p>
</div>
<div class="feature-card" onclick="showSection('imsakiya')">
<div class="icon">ğŸŒ…</div>
<h3>Ø¥Ù…Ø³Ø§ÙƒÙŠØ© Ø±Ù…Ø¶Ø§Ù†</h3>
<p>Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ø³Ø­ÙˆØ± ÙˆØ§Ù„Ø¥ÙØ·Ø§Ø±</p>
</div>
<div class="feature-card" onclick="showSection('qibla')">
<div class="icon">ğŸ§­</div>
<h3>Ø¨ÙˆØµÙ„Ø© Ø§Ù„Ù‚Ø¨Ù„Ø©</h3>
<p>Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ù‚Ø¨Ù„Ø© Ø¨Ø¯Ù‚Ø©</p>
</div>
<div class="feature-card" onclick="showSection('recipes')">
<div class="icon">ğŸ½ï¸</div>
<h3>Ø§Ù„ÙˆØµÙØ§Øª</h3>
<p>Ø£ÙƒØ«Ø± Ù…Ù† 50 ÙˆØµÙØ© Ø±Ù…Ø¶Ø§Ù†ÙŠØ©</p>
</div>
</div>
</div>
</section>

<section id="prayers" class="section">
<h2 style="text-align: center; margin-bottom: 30px; color: var(--primary); font-size: 2em;">Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø©</h2>
<div class="prayer-times" id="prayer-times-section"></div>
<div class="countdown-timer" id="next-prayer-countdown"></div>
</section>

<section id="tasbih" class="section">
<div class="tasbih-container">
<h2 style="color: var(--primary); margin-bottom: 20px;">Ø§Ù„Ù…Ø³Ø¨Ø­Ø© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©</h2>
<div class="tasbih-counter" onclick="incrementTasbih()">
<span class="count" id="tasbih-count">0</span>
<span>Ø§Ø¶ØºØ· Ù„Ù„ØªØ³Ø¨ÙŠØ­</span>
</div>
<div class="tasbih-text" id="tasbih-text">Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡</div>
<div style="display: flex; gap: 15px; justify-content: center; margin: 20px 0;">
<button class="btn-primary" onclick="resetTasbih()">Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†</button>
<button class="btn-secondary" onclick="setTasbihGoal()">ØªØ¹ÙŠÙŠÙ† Ù‡Ø¯Ù</button>
</div>
<div class="tasbih-presets">
<button class="preset-btn" onclick="setTasbihText('Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡')">Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡</button>
<button class="preset-btn" onclick="setTasbihText('Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡')">Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡</button>
<button class="preset-btn" onclick="setTasbihText('Ø§Ù„Ù„Ù‡ Ø£ÙƒØ¨Ø±')">Ø§Ù„Ù„Ù‡ Ø£ÙƒØ¨Ø±</button>
<button class="preset-btn" onclick="setTasbihText('Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡')">Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡</button>
<button class="preset-btn" onclick="setTasbihText('Ù„Ø§ Ø­ÙˆÙ„ ÙˆÙ„Ø§ Ù‚ÙˆØ© Ø¥Ù„Ø§ Ø¨Ø§Ù„Ù„Ù‡')">Ù„Ø§ Ø­ÙˆÙ„ ÙˆÙ„Ø§ Ù‚ÙˆØ© Ø¥Ù„Ø§ Ø¨Ø§Ù„Ù„Ù‡</button>
<button class="preset-btn" onclick="setTasbihText('Ø§Ø³ØªØºÙØ± Ø§Ù„Ù„Ù‡')">Ø§Ø³ØªØºÙØ± Ø§Ù„Ù„Ù‡</button>
<button class="preset-btn" onclick="setTasbihText('Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø­Ù…Ø¯Ù‡')">Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø­Ù…Ø¯Ù‡</button>
<button class="preset-btn" onclick="setTasbihText('Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ Ø§Ù„Ø¹Ø¸ÙŠÙ…')">Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ Ø§Ù„Ø¹Ø¸ÙŠÙ…</button>
<button class="preset-btn" onclick="setTasbihText('Ø§Ù„Ù„Ù‡Ù… ØµÙ„ Ø¹Ù„Ù‰ Ù…Ø­Ù…Ø¯')">Ø§Ù„Ù„Ù‡Ù… ØµÙ„ Ø¹Ù„Ù‰ Ù…Ø­Ù…Ø¯</button>
<button class="preset-btn" onclick="setTasbihText('Ø¨Ø³Ù… Ø§Ù„Ù„Ù‡ Ø§Ù„Ø±Ø­Ù…Ù† Ø§Ù„Ø±Ø­ÙŠÙ…')">Ø¨Ø³Ù… Ø§Ù„Ù„Ù‡ Ø§Ù„Ø±Ø­Ù…Ù† Ø§Ù„Ø±Ø­ÙŠÙ…</button>
</div>
</div>
</section>

<section id="quran" class="section">
<div class="quran-reader">
<h2 style="text-align: center; margin-bottom: 20px; color: var(--primary);">Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…</h2>
<input type="text" class="search-box" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ø³ÙˆØ±Ø©..." oninput="searchSurah(this.value)">
<div class="surah-list" id="surah-list"></div>
</div>
</section>

<section id="azkar" class="section">
<div class="azkar-container">
<h2 style="text-align: center; margin-bottom: 20px; color: var(--primary);">Ø§Ù„Ø£Ø°ÙƒØ§Ø±</h2>
<div class="azkar-type-selector">
<button class="date-btn active" onclick="showAzkar('morning')">Ø£Ø°ÙƒØ§Ø± Ø§Ù„ØµØ¨Ø§Ø­</button>
<button class="date-btn" onclick="showAzkar('evening')">Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù…Ø³Ø§Ø¡</button>
</div>
<div id="azkar-list"></div>
</div>
</section>

<section id="duas" class="section">
<div class="dua-container">
<h2 style="text-align: center; margin-bottom: 20px; color: var(--primary);">Ø§Ù„Ø£Ø¯Ø¹ÙŠØ©</h2>
<div class="dua-categories">
<button class="date-btn active" onclick="showDuas('prophetic')">Ø£Ø¯Ø¹ÙŠØ© Ù†Ø¨ÙˆÙŠØ©</button>
<button class="date-btn" onclick="showDuas('quran')">Ø£Ø¯Ø¹ÙŠØ© Ù‚Ø±Ø¢Ù†ÙŠØ©</button>
</div>
<div id="duas-list"></div>
</div>
</section>

<section id="imsakiya" class="section">
<div class="imsakiya-container">
<h2 style="text-align: center; margin-bottom: 20px; color: var(--primary);">Ø¥Ù…Ø³Ø§ÙƒÙŠØ© Ø±Ù…Ø¶Ø§Ù† 2026</h2>
<div class="ramadan-calendar" id="ramadan-calendar"></div>
</div>
</section>

<section id="qibla" class="section">
<div class="qibla-compass">
<h2 style="color: var(--primary); margin-bottom: 20px;">Ø¨ÙˆØµÙ„Ø© Ø§Ù„Ù‚Ø¨Ù„Ø©</h2>
<p id="qibla-status">Ø¬Ø§Ø±ÙŠ ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹Ùƒ...</p>
<div class="compass-circle">
<div class="compass-arrow" id="compass-arrow">â¬†ï¸</div>
</div>
<div class="qibla-degree" id="qibla-degree">0Â°</div>
<button class="btn-primary" onclick="getQiblaDirection()" style="margin-top: 20px;">ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø§ØªØ¬Ø§Ù‡</button>
</div>
</section>

<section id="recipes" class="section">
<div class="recipes-container">
<h2 style="text-align: center; margin-bottom: 20px; color: var(--primary);">Ø§Ù„ÙˆØµÙØ§Øª Ø§Ù„Ø±Ù…Ø¶Ø§Ù†ÙŠØ©</h2>
<div class="recipe-categories">
<button class="date-btn active" onclick="filterRecipes('soups')">Ø§Ù„Ø´ÙˆØ±Ø¨Ø§Øª</button>
<button class="date-btn" onclick="filterRecipes('appetizers')">Ø§Ù„Ù…Ù‚Ø¨Ù„Ø§Øª</button>
<button class="date-btn" onclick="filterRecipes('main')">Ø§Ù„Ø£Ø·Ø¨Ø§Ù‚ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
<button class="date-btn" onclick="filterRecipes('salads')">Ø§Ù„Ø³Ù„Ø·Ø§Øª</button>
<button class="date-btn" onclick="filterRecipes('desserts')">Ø§Ù„Ø­Ù„ÙˆÙŠØ§Øª</button>
<button class="date-btn" onclick="filterRecipes('all')">Ø§Ù„ÙƒÙ„</button>
</div>
<div class="recipe-list" id="recipe-list"></div>
</div>
</section>

<section id="hadith" class="section">
<div class="hadith-container">
<h2 style="text-align: center; margin-bottom: 20px; color: var(--primary);">Ø§Ù„Ø£Ø­Ø§Ø¯ÙŠØ« Ø§Ù„Ù†Ø¨ÙˆÙŠØ©</h2>
<input type="text" class="search-box" placeholder="Ø§Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø£Ø­Ø§Ø¯ÙŠØ«..." oninput="searchHadith(this.value)">
<div id="hadith-list"></div>
</div>
</section>

<section id="settings" class="section">
<div class="settings-container">
<h2 style="text-align: center; margin-bottom: 20px; color: var(--primary);">Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h2>

<div class="settings-group">
<h3>Ø£ØµÙˆØ§Øª Ø§Ù„Ø£Ø°Ø§Ù†</h3>
<div class="adhan-selector" id="adhan-selector"></div>
</div>

<div class="settings-group">
<h3>Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª</h3>
<div class="setting-item">
<span>ØªÙ†Ø¨ÙŠÙ‡ Ù‚Ø¨Ù„ Ø§Ù„Ø£Ø°Ø§Ù†</span>
<select id="notification-time">
<option value="5">5 Ø¯Ù‚Ø§Ø¦Ù‚</option>
<option value="10">10 Ø¯Ù‚Ø§Ø¦Ù‚</option>
<option value="15" selected>15 Ø¯Ù‚ÙŠÙ‚Ø©</option>
<option value="30">30 Ø¯Ù‚ÙŠÙ‚Ø©</option>
<option value="60">60 Ø¯Ù‚ÙŠÙ‚Ø©</option>
</select>
</div>
<div class="setting-item">
<span>ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø§Ù‡ØªØ²Ø§Ø²</span>
<input type="checkbox" id="vibration" checked>
</div>
<div class="setting-item">
<span>ØªÙØ¹ÙŠÙ„ Ø§Ù„ØµÙˆØª</span>
<input type="checkbox" id="sound" checked>
</div>
</div>

<div class="settings-group">
<h3>Ø¹Ù† Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</h3>
<p style="line-height: 2; color: var(--dark);">
ØªØ·Ø¨ÙŠÙ‚ Ù„ÙŠØ²ÙŠ Ø±Ù…Ø¶Ø§Ù† Ù‡Ùˆ Ø±ÙÙŠÙ‚Ùƒ Ø§Ù„Ù…Ø«Ø§Ù„ÙŠ Ø®Ù„Ø§Ù„ Ø§Ù„Ø´Ù‡Ø± Ø§Ù„ÙØ¶ÙŠÙ„. ÙŠØ¬Ù…Ø¹ Ø¨ÙŠÙ† Ø§Ù„Ø±ÙˆØ­Ø§Ù†ÙŠØ§Øª ÙˆØ§Ù„ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§ Ø§Ù„Ø­Ø¯ÙŠØ«Ø© Ù„ØªÙˆÙÙŠØ± ØªØ¬Ø±Ø¨Ø© Ø±Ù…Ø¶Ø§Ù†ÙŠØ© Ù…ØªÙƒØ§Ù…Ù„Ø©.
</p>
<p style="margin-top: 15px; text-align: center; color: var(--primary); font-weight: 600;">
Ø§Ù„Ù†Ø³Ø®Ø© 1.0.0
</p>
</div>
</div>
</section>

</div>

<div id="adhan-modal" class="modal">
<div class="modal-content">
<span class="close-modal" onclick="closeAdhanModal()">Ã—</span>
<h2 style="text-align: center; color: var(--primary); margin-bottom: 20px;">Ø­Ø§Ù† ÙˆÙ‚Øª Ø§Ù„ØµÙ„Ø§Ø©</h2>
<video id="adhan-video" controls autoplay></video>
<button class="btn-primary" onclick="closeAdhanModal()" style="margin-top: 20px; width: 100%;">Ø¥ØºÙ„Ø§Ù‚</button>
</div>
</div>

<div id="notification-container"></div>

<script>
const ADHAN_VIDEOS = {
default: 'https://k.top4top.io/m_3675lh1nn0.mp4',
fajr: 'https://j.top4top.io/m_3676g8h180.mp4',
dua: 'https://j.top4top.io/m_3675du7yg0.mp4',
options: [
{ id: 'default', name: 'Ø§Ù„Ø£Ø°Ø§Ù† Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ', url: 'https://k.top4top.io/m_3675lh1nn0.mp4' },
{ id: 'option2', name: 'Ø§Ù„Ø£Ø°Ø§Ù† Ø§Ù„Ø«Ø§Ù†ÙŠ', url: 'https://f.top4top.io/m_36754qx8g0.mp4' },
{ id: 'option3', name: 'Ø§Ù„Ø£Ø°Ø§Ù† Ø§Ù„Ø«Ø§Ù„Ø«', url: 'https://b.top4top.io/m_36759dac10.mp4' },
{ id: 'option4', name: 'Ø§Ù„Ø£Ø°Ø§Ù† Ø§Ù„Ø±Ø§Ø¨Ø¹', url: 'https://f.top4top.io/m_3675e4zi30.mp4' },
{ id: 'option5', name: 'Ø§Ù„Ø£Ø°Ø§Ù† Ø§Ù„Ø®Ø§Ù…Ø³', url: 'https://h.top4top.io/m_36769ugnc0.mp4' },
{ id: 'fajr1', name: 'Ø£Ø°Ø§Ù† Ø§Ù„ÙØ¬Ø± Ø§Ù„Ø£ÙˆÙ„', url: 'https://j.top4top.io/m_3676g8h180.mp4' },
{ id: 'fajr2', name: 'Ø£Ø°Ø§Ù† Ø§Ù„ÙØ¬Ø± Ø§Ù„Ø«Ø§Ù†ÙŠ', url: 'https://f.top4top.io/m_3675e4zi30.mp4' }
]
};

const RAMADAN_SCHEDULE = [
{day: 1, date: '18/2', hijri: '1 Ø±Ù…Ø¶Ø§Ù†', dayName: 'Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡', suhoor: '04:21', fajr: '05:21', iftar: '05:53'},
{day: 2, date: '19/2', hijri: '2 Ø±Ù…Ø¶Ø§Ù†', dayName: 'Ø§Ù„Ø®Ù…ÙŠØ³', suhoor: '04:20', fajr: '05:20', iftar: '05:54'},
{day: 3, date: '20/2', hijri: '3 Ø±Ù…Ø¶Ø§Ù†', dayName: 'Ø§Ù„Ø¬Ù…Ø¹Ø©', suhoor: '04:19', fajr: '05:19', iftar: '05:55'},
{day: 4, date: '21/2', hijri: '4 Ø±Ù…Ø¶Ø§Ù†', dayName: 'Ø§Ù„Ø³Ø¨Øª', suhoor: '04:18', fajr: '05:18', iftar: '05:55'},
{day: 5, date: '22/2', hijri: '5 Ø±Ù…Ø¶Ø§Ù†', dayName: 'Ø§Ù„Ø£Ø­Ø¯', suhoor: '04:17', fajr: '05:17', iftar: '05:56'},
{day: 6, date: '23/2', hijri: '6 Ø±Ù…Ø¶Ø§Ù†', dayName: 'Ø§Ù„Ø§Ø«Ù†ÙŠÙ†', suhoor: '04:16', fajr: '05:16', iftar: '05:57'},
{day: 7, date: '24/2', hijri: '7 Ø±Ù…Ø¶Ø§Ù†', dayName: 'Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡', suhoor: '04:15', fajr: '05:15', iftar: '05:58'},
{day: 8, date: '25/2', hijri: '8 Ø±Ù…Ø¶Ø§Ù†', dayName: 'Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡', suhoor: '04:14', fajr: '05:14', iftar: '05:59'},
{day: 9, date: '26/2', hijri: '9 Ø±Ù…Ø¶Ø§Ù†', dayName: 'Ø§Ù„Ø®Ù…ÙŠØ³', suhoor: '04:12', fajr: '05:12', iftar: '06:00'},
{day: 10, date: '27/2', hijri: '10 Ø±Ù…Ø¶Ø§Ù†', dayName: 'Ø§Ù„Ø¬Ù…Ø¹Ø©', suhoor: '04:11', fajr: '05:11', iftar: '06:00'},
{day: 11, date: '28/2', hijri: '11 Ø±Ù…Ø¶Ø§Ù†', dayName: 'Ø§Ù„Ø³Ø¨Øª', suhoor: '04:10', fajr: '05:10', iftar: '06:01'},
{day: 12, date: '1/3', hijri: '12 Ø±Ù…Ø¶Ø§Ù†', dayName: 'Ø§Ù„Ø£Ø­Ø¯', suhoor: '04:09', fajr: '05:09', iftar: '06:02'},
{day: 13, date: '2/3', hijri: '13 Ø±Ù…Ø¶Ø§Ù†', dayName: 'Ø§Ù„Ø§Ø«Ù†ÙŠÙ†', suhoor: '04:08', fajr: '05:08', iftar: '06:03'},
{day: 14, date: '3/3', hijri: '14 Ø±Ù…Ø¶Ø§Ù†', dayName: 'Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡', suhoor: '04:07', fajr: '05:07', iftar: '06:04'},
{day: 15, date: '4/3', hijri: '15 Ø±Ù…Ø¶Ø§Ù†', dayName: 'Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡', suhoor: '04:06', fajr: '05:06', iftar: '06:04'},
{day: 16, date: '5/3', hijri: '16 Ø±Ù…Ø¶Ø§Ù†', dayName: 'Ø§Ù„Ø®Ù…ÙŠØ³', suhoor: '04:04', fajr: '05:04', iftar: '06:05'},
{day: 17, date: '6/3', hijri: '17 Ø±Ù…Ø¶Ø§Ù†', dayName: 'Ø§Ù„Ø¬Ù…Ø¹Ø©', suhoor: '04:03', fajr: '05:03', iftar: '06:06'},
{day: 18, date: '7/3', hijri: '18 Ø±Ù…Ø¶Ø§Ù†', dayName: 'Ø§Ù„Ø³Ø¨Øª', suhoor: '04:02', fajr: '05:02', iftar: '06:07'},
{day: 19, date: '8/3', hijri: '19 Ø±Ù…Ø¶Ø§Ù†', dayName: 'Ø§Ù„Ø£Ø­Ø¯', suhoor: '04:01', fajr: '05:01', iftar: '06:07'},
{day: 20, date: '9/3', hijri: '20 Ø±Ù…Ø¶Ø§Ù†', dayName: 'Ø§Ù„Ø§Ø«Ù†ÙŠÙ†', suhoor: '03:59', fajr: '04:59', iftar: '06:08'},
{day: 21, date: '10/3', hijri: '21 Ø±Ù…Ø¶Ø§Ù†', dayName: 'Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡', suhoor: '03:58', fajr: '04:58', iftar: '06:09'},
{day: 22, date: '11/3', hijri: '22 Ø±Ù…Ø¶Ø§Ù†', dayName: 'Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡', suhoor: '03:57', fajr: '04:57', iftar: '06:10'},
{day: 23, date: '12/3', hijri: '23 Ø±Ù…Ø¶Ø§Ù†', dayName: 'Ø§Ù„Ø®Ù…ÙŠØ³', suhoor: '03:55', fajr: '04:55', iftar: '06:11'},
{day: 24, date: '13/3', hijri: '24 Ø±Ù…Ø¶Ø§Ù†', dayName: 'Ø§Ù„Ø¬Ù…Ø¹Ø©', suhoor: '03:54', fajr: '04:54', iftar: '06:11'},
{day: 25, date: '14/3', hijri: '25 Ø±Ù…Ø¶Ø§Ù†', dayName: 'Ø§Ù„Ø³Ø¨Øª', suhoor: '03:53', fajr: '04:53', iftar: '06:12'},
{day: 26, date: '15/3', hijri: '26 Ø±Ù…Ø¶Ø§Ù†', dayName: 'Ø§Ù„Ø£Ø­Ø¯', suhoor: '03:51', fajr: '04:51', iftar: '06:13'},
{day: 27, date: '16/3', hijri: '27 Ø±Ù…Ø¶Ø§Ù†', dayName: 'Ø§Ù„Ø§Ø«Ù†ÙŠÙ†', suhoor: '03:50', fajr: '04:50', iftar: '06:13'},
{day: 28, date: '17/3', hijri: '28 Ø±Ù…Ø¶Ø§Ù†', dayName: 'Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡', suhoor: '03:49', fajr: '04:49', iftar: '06:14'},
{day: 29, date: '18/3', hijri: '29 Ø±Ù…Ø¶Ø§Ù†', dayName: 'Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡', suhoor: '03:47', fajr: '04:47', iftar: '06:15'},
{day: 30, date: '19/3', hijri: '30 Ø±Ù…Ø¶Ø§Ù†', dayName: 'Ø§Ù„Ø®Ù…ÙŠØ³', suhoor: '03:46', fajr: '04:46', iftar: '06:16'}
];

let currentDateType = 'hijri';
let tasbihCount = 0;
let tasbihGoal = 100;
let currentTasbihText = 'Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡';
let prayerTimes = null;
let surahs = [];
let azkarData = null;
let duasData = null;
let selectedAdhan = 'default';
let selectedFajrAdhan = 'fajr1';

async function initApp() {
await fetchPrayerTimes();
await fetchSurahs();
await fetchAzkar();
await fetchDuas();
updateDateTime();
displayPrayerTimes();
loadTasbihFromStorage();
displayImsakiya();
displayRecipes();
displayHadith();
setupAdhanSelector();
setupNotifications();
setInterval(updateDateTime, 1000);
setInterval(checkPrayerTime, 60000);
}

async function fetchPrayerTimes() {
try {
const response = await fetch('https://quran.yousefheiba.com/api/getPrayerTimes');
const data = await response.json();
prayerTimes = data.prayer_times;
} catch (error) {
console.error('Error fetching prayer times:', error);
prayerTimes = {
Fajr: '05:21',
Sunrise: '06:45',
Dhuhr: '12:30',
Asr: '15:45',
Maghrib: '18:30',
Isha: '19:45'
};
}
}

async function fetchSurahs() {
try {
const response = await fetch('https://quran.yousefheiba.com/api/surahs');
surahs = await response.json();
displaySurahs();
} catch (error) {
console.error('Error fetching surahs:', error);
}
}

async function fetchAzkar() {
try {
const response = await fetch('https://quran.yousefheiba.com/api/azkar');
azkarData = await response.json();
showAzkar('morning');
} catch (error) {
console.error('Error fetching azkar:', error);
}
}

async function fetchDuas() {
try {
const response = await fetch('https://quran.yousefheiba.com/api/duas');
duasData = await response.json();
showDuas('prophetic');
} catch (error) {
console.error('Error fetching duas:', error);
}
}

function updateDateTime() {
const now = new Date();
const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
const gregorianDate = now.toLocaleDateString('ar-SA', options);
const hijriDate = new Intl.DateTimeFormat('ar-SA-u-ca-islamic', options).format(now);

if (currentDateType === 'hijri') {
document.getElementById('current-date').textContent = hijriDate;
} else {
document.getElementById('current-date').textContent = gregorianDate;
}

document.getElementById('current-day').textContent = `Ø§Ù„Ø³Ø§Ø¹Ø©: ${now.toLocaleTimeString('ar-SA')}`;

updateCountdown();
}

function updateCountdown() {
const now = new Date();
const ramadanStart = new Date(2026, 1, 18);
const diff = ramadanStart - now;

if (diff > 0) {
const days = Math.floor(diff / (1000 * 60 * 60 * 24));
const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
const seconds = Math.floor((diff % (1000 * 60)) / 1000);

document.getElementById('countdown-timer').innerHTML = `
<div class="time-box">
<span class="number">${days}</span>
<span class="label">ÙŠÙˆÙ…</span>
</div>
<div class="time-box">
<span class="number">${hours}</span>
<span class="label">Ø³Ø§Ø¹Ø©</span>
</div>
<div class="time-box">
<span class="number">${minutes}</span>
<span class="label">Ø¯Ù‚ÙŠÙ‚Ø©</span>
</div>
<div class="time-box">
<span class="number">${seconds}</span>
<span class="label">Ø«Ø§Ù†ÙŠØ©</span>
</div>
`;
} else {
document.getElementById('countdown-timer').innerHTML = '<h2 style="color: var(--gold);">Ø±Ù…Ø¶Ø§Ù† Ù…Ø¨Ø§Ø±Ùƒ!</h2>';
}
}

function displayPrayerTimes() {
if (!prayerTimes) return;

const prayerNames = {
Fajr: { name: 'Ø§Ù„ÙØ¬Ø±', icon: 'ğŸŒ…' },
Sunrise: { name: 'Ø§Ù„Ø´Ø±ÙˆÙ‚', icon: 'â˜€ï¸' },
Dhuhr: { name: 'Ø§Ù„Ø¸Ù‡Ø±', icon: 'ğŸŒ' },
Asr: { name: 'Ø§Ù„Ø¹ØµØ±', icon: 'ğŸŒ¤ï¸' },
Maghrib: { name: 'Ø§Ù„Ù…ØºØ±Ø¨', icon: 'ğŸŒ†' },
Isha: { name: 'Ø§Ù„Ø¹Ø´Ø§Ø¡', icon: 'ğŸŒ™' }
};

const container = document.getElementById('home-prayer-times');
const sectionContainer = document.getElementById('prayer-times-section');
let html = '';

for (const [key, time] of Object.entries(prayerTimes)) {
const prayer = prayerNames[key];
if (prayer) {
html += `
<div class="prayer-card">
<div class="icon">${prayer.icon}</div>
<div class="name">${prayer.name}</div>
<div class="time">${time}</div>
</div>
`;
}
}

if (container) container.innerHTML = html;
if (sectionContainer) sectionContainer.innerHTML = html;
}

function displaySurahs() {
const container = document.getElementById('surah-list');
let html = '';

surahs.forEach(surah => {
html += `
<div class="surah-item" onclick="openSurah(${surah.number})">
<div>
<div style="font-weight: 700; font-size: 1.1em; margin-bottom: 5px;">${surah.name_ar}</div>
<div style="opacity: 0.7; font-size: 0.9em;">${surah.name_en} - ${surah.ayat_count} Ø¢ÙŠØ©</div>
</div>
<div class="surah-number">${surah.number}</div>
</div>
`;
});

container.innerHTML = html;
}

function openSurah(number) {
const surah = surahs.find(s => s.number == number);
if (surah) {
showNotification(`ØªÙ… ÙØªØ­ ${surah.name_ar}`);
}
}

function searchSurah(query) {
const filtered = surahs.filter(s =>
s.name_ar.includes(query) || s.name_en.toLowerCase().includes(query.toLowerCase())
);

const container = document.getElementById('surah-list');
let html = '';

filtered.forEach(surah => {
html += `
<div class="surah-item" onclick="openSurah(${surah.number})">
<div>
<div style="font-weight: 700; font-size: 1.1em; margin-bottom: 5px;">${surah.name_ar}</div>
<div style="opacity: 0.7; font-size: 0.9em;">${surah.name_en} - ${surah.ayat_count} Ø¢ÙŠØ©</div>
</div>
<div class="surah-number">${surah.number}</div>
</div>
`;
});

container.innerHTML = html || '<p style="text-align: center; padding: 40px;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬</p>';
}

function showAzkar(type) {
document.querySelectorAll('#azkar .date-btn').forEach(btn => btn.classList.remove('active'));
event.target.classList.add('active');

if (!azkarData) return;

const azkar = type === 'morning' ? azkarData.morning_azkar : azkarData.evening_azkar;
const container = document.getElementById('azkar-list');
let html = '';

azkar.forEach((zikr, index) => {
html += `
<div class="azkar-card">
<div class="azkar-text">${zikr.text}</div>
<div class="azkar-count">ÙŠÙƒØ±Ø± ${zikr.count} Ù…Ø±Ø©</div>
</div>
`;
});

container.innerHTML = html;
}

function showDuas(type) {
document.querySelectorAll('#duas .date-btn').forEach(btn => btn.classList.remove('active'));
event.target.classList.add('active');

if (!duasData) return;

const duas = type === 'prophetic' ? duasData.prophetic_duas : duasData.quran_duas;
const container = document.getElementById('duas-list');
let html = '';

duas.forEach((dua, index) => {
html += `
<div class="dua-card">
<div class="dua-text">${dua.text}</div>
<div style="margin-top: 15px; text-align: left; opacity: 0.7;">ÙŠÙƒØ±Ø± ${dua.count} Ù…Ø±Ø©</div>
</div>
`;
});

container.innerHTML = html;
}

function displayImsakiya() {
const container = document.getElementById('ramadan-calendar');
let html = '';

RAMADAN_SCHEDULE.forEach(day => {
const today = day.day === 1;
html += `
<div class="day-card ${today ? 'today' : ''}">
<div class="time-item">
<div class="label">Ø§Ù„ÙŠÙˆÙ…</div>
<div class="time">${day.dayName}</div>
</div>
<div class="time-item">
<div class="label">Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ</div>
<div class="time">${day.date}</div>
</div>
<div class="time-item">
<div class="label">Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‡Ø¬Ø±ÙŠ</div>
<div class="time">${day.hijri}</div>
</div>
<div class="time-item">
<div class="label">Ø§Ù„Ø³Ø­ÙˆØ±</div>
<div class="time">${day.suhoor}</div>
</div>
<div class="time-item">
<div class="label">Ø§Ù„ÙØ¬Ø±</div>
<div class="time">${day.fajr}</div>
</div>
<div class="time-item">
<div class="label">Ø§Ù„Ø¥ÙØ·Ø§Ø±</div>
<div class="time">${day.iftar}</div>
</div>
</div>
`;
});

container.innerHTML = html;
}

const RECIPES = [
{
id: 1,
name: 'Ø´ÙˆØ±Ø¨Ø© Ø§Ù„Ø¹Ø¯Ø³ Ø§Ù„Ø£Ø­Ù…Ø±',
category: 'soups',
description: 'Ø´ÙˆØ±Ø¨Ø© Ø¯Ø§ÙØ¦Ø© ÙˆØºÙ†ÙŠØ© Ø¨Ø§Ù„Ø¨Ø±ÙˆØªÙŠÙ†ØŒ Ø°Ø§Øª Ù„ÙˆÙ† Ø°Ù‡Ø¨ÙŠ Ø¬Ù…ÙŠÙ„ ÙˆØ·Ø¹Ù… ÙƒØ±ÙŠÙ…ÙŠ Ø±Ø§Ø¦Ø¹',
ingredients: ['2 ÙƒÙˆØ¨ Ø¹Ø¯Ø³ Ø£Ø­Ù…Ø±', '1 Ø¨ØµÙ„Ø© ÙƒØ¨ÙŠØ±Ø© Ù…ÙØ±ÙˆÙ…Ø©', '2 Ø¬Ø²Ø± Ù…Ù‚Ø·Ø¹', '3 ÙØµÙˆØµ Ø«ÙˆÙ…', '1 Ù…Ù„Ø¹Ù‚Ø© ÙƒÙ…ÙˆÙ†', 'Ù…Ù„Ø­ ÙˆÙÙ„ÙÙ„', '6 Ø£ÙƒÙˆØ§Ø¨ Ù…Ø±Ù‚ Ø¯Ø¬Ø§Ø¬', 'Ø¹ØµÙŠØ± Ù†ØµÙ Ù„ÙŠÙ…ÙˆÙ†Ø©'],
steps: ['Ø§Ø´Ø·Ù Ø§Ù„Ø¹Ø¯Ø³ Ø¬ÙŠØ¯Ø§Ù‹ Ø¨Ø§Ù„Ù…Ø§Ø¡', 'ÙÙŠ Ù‚Ø¯Ø± ÙƒØ¨ÙŠØ±ØŒ Ø³Ø®Ù† Ø§Ù„Ø²ÙŠØª ÙˆØ´ÙˆØ­ Ø§Ù„Ø¨ØµÙ„ Ø­ØªÙ‰ ÙŠØ°Ø¨Ù„', 'Ø£Ø¶Ù Ø§Ù„Ø«ÙˆÙ… ÙˆØ§Ù„Ø¬Ø²Ø± ÙˆÙ‚Ù„Ø¨ Ù„Ø¯Ù‚ÙŠÙ‚ØªÙŠÙ†', 'Ø£Ø¶Ù Ø§Ù„Ø¹Ø¯Ø³ ÙˆØ§Ù„Ù…Ø±Ù‚ ÙˆØ§Ù„Ø¨Ù‡Ø§Ø±Ø§Øª', 'Ø§ØªØ±ÙƒÙ‡ ÙŠØºÙ„ÙŠ Ø«Ù… Ø®ÙÙ Ø§Ù„Ù†Ø§Ø± ÙˆØ§ØªØ±ÙƒÙ‡ 25 Ø¯Ù‚ÙŠÙ‚Ø©', 'Ø§Ø®Ù„Ø· Ø§Ù„Ø´ÙˆØ±Ø¨Ø© Ø¨Ø§Ù„Ø®Ù„Ø§Ø· Ø­ØªÙ‰ ØªØµØ¨Ø­ Ù†Ø§Ø¹Ù…Ø©', 'Ø£Ø¶Ù Ø¹ØµÙŠØ± Ø§Ù„Ù„ÙŠÙ…ÙˆÙ† ÙˆÙ‚Ø¯Ù…Ù‡Ø§ Ø³Ø§Ø®Ù†Ø©']
},
{
id: 2,
name: 'Ø´ÙˆØ±Ø¨Ø© Ø§Ù„Ø­Ø±ÙŠØ±Ø© Ø§Ù„Ù…ØºØ±Ø¨ÙŠØ©',
category: 'soups',
description: 'Ø´ÙˆØ±Ø¨Ø© ØªÙ‚Ù„ÙŠØ¯ÙŠØ© Ù…ØºØ±Ø¨ÙŠØ© ØºÙ†ÙŠØ© Ø¨Ø§Ù„Ù„Ø­Ù… ÙˆØ§Ù„Ø­Ù…Øµ ÙˆØ§Ù„Ø¹Ø¯Ø³',
ingredients: ['500 Ø¬Ù… Ù„Ø­Ù… ØºÙ†Ù…', '1 ÙƒÙˆØ¨ Ø­Ù…Øµ', 'Ù†ØµÙ ÙƒÙˆØ¨ Ø¹Ø¯Ø³', '2 Ø¨ØµÙ„', '2 Ø·Ù…Ø§Ø·Ù…', 'ÙƒØ±ÙØ³', 'ÙƒØ²Ø¨Ø±Ø©', 'Ø¨Ù‡Ø§Ø±Ø§Øª'],
steps: ['Ø³Ù„Ù‚ Ø§Ù„Ù„Ø­Ù… Ù…Ø¹ Ø§Ù„Ø¨ØµÙ„', 'Ø£Ø¶Ù Ø§Ù„Ø­Ù…Øµ ÙˆØ§Ù„Ø¹Ø¯Ø³', 'Ø£Ø¶Ù Ø§Ù„Ø·Ù…Ø§Ø·Ù… ÙˆØ§Ù„ÙƒØ±ÙØ³', 'Ø§Ø·Ø¨Ø® Ø­ØªÙ‰ Ø§Ù„Ù†Ø¶Ø¬', 'Ø£Ø¶Ù Ø§Ù„ÙƒØ²Ø¨Ø±Ø© ÙˆÙ‚Ø¯Ù…Ù‡Ø§']
},
{
id: 3,
name: 'Ø³Ù…Ø¨ÙˆØ³Ùƒ Ø§Ù„Ù„Ø­Ù…',
category: 'appetizers',
description: 'Ù…Ø¹Ø¬Ù†Ø§Øª Ù…Ù‚Ø±Ù…Ø´Ø© Ù…Ø­Ø´ÙˆØ© Ø¨Ø§Ù„Ù„Ø­Ù… Ø§Ù„Ù…ÙØ±ÙˆÙ… ÙˆØ§Ù„Ø¨ØµÙ„',
ingredients: ['500 Ø¬Ù… Ù„Ø­Ù… Ù…ÙØ±ÙˆÙ…', '2 Ø¨ØµÙ„', 'ØµÙ†ÙˆØ¨Ø±', 'Ø¹Ø¬ÙŠÙ†Ø© Ø³Ù…Ø¨ÙˆØ³Ùƒ', 'Ø¨Ù‡Ø§Ø±Ø§Øª', 'Ø²ÙŠØª Ù„Ù„Ù‚Ù„ÙŠ'],
steps: ['Ø´ÙˆØ­ Ø§Ù„Ù„Ø­Ù… Ù…Ø¹ Ø§Ù„Ø¨ØµÙ„', 'Ø£Ø¶Ù Ø§Ù„ØµÙ†ÙˆØ¨Ø± ÙˆØ§Ù„Ø¨Ù‡Ø§Ø±Ø§Øª', 'Ø§Ø­Ø´Ù Ø§Ù„Ø¹Ø¬ÙŠÙ†Ø©', 'Ø§Ù‚Ù„ÙŠÙ‡Ø§ Ø­ØªÙ‰ ØªØ°Ù‡Ø¨']
},
{
id: 4,
name: 'ÙØ·Ø§Ø¦Ø± Ø§Ù„Ø³Ø¨Ø§Ù†Ø®',
category: 'appetizers',
description: 'ÙØ·Ø§Ø¦Ø± Ø·Ø±ÙŠØ© Ù…Ø­Ø´ÙˆØ© Ø¨Ø§Ù„Ø³Ø¨Ø§Ù†Ø® ÙˆØ§Ù„Ø¨ØµÙ„',
ingredients: ['500 Ø¬Ù… Ø³Ø¨Ø§Ù†Ø®', '2 Ø¨ØµÙ„', 'Ù„ÙŠÙ…ÙˆÙ†', 'Ø³Ù…Ø§Ù‚', 'Ø¹Ø¬ÙŠÙ†Ø© ÙØ·Ø§ÙŠØ±'],
steps: ['Ø§Ø¹ØµØ± Ø§Ù„Ø³Ø¨Ø§Ù†Ø®', 'Ø§Ø®Ù„Ø·Ù‡Ø§ Ù…Ø¹ Ø§Ù„Ø¨ØµÙ„', 'Ø§Ø­Ø´Ù Ø§Ù„ÙØ·Ø§ÙŠØ±', 'Ø§Ø®Ø¨Ø²Ù‡Ø§ 20 Ø¯Ù‚ÙŠÙ‚Ø©']
},
{
id: 5,
name: 'Ù…Ù‚Ù„ÙˆØ¨Ø© Ø§Ù„Ø¨Ø§Ø°Ù†Ø¬Ø§Ù†',
category: 'main',
description: 'Ø·Ø¨Ù‚ Ø£Ø±Ø² Ø¨Ù†ÙƒÙ‡Ø© Ù…Ù…ÙŠØ²Ø© Ù…Ø¹ Ø¨Ø§Ø°Ù†Ø¬Ø§Ù† Ù…Ù‚Ù„ÙŠ ÙˆÙ„Ø­Ù…',
ingredients: ['3 Ø£ÙƒÙˆØ§Ø¨ Ø£Ø±Ø²', '500 Ø¬Ù… Ù„Ø­Ù…', '3 Ø¨Ø§Ø°Ù†Ø¬Ø§Ù†', 'Ø·Ù…Ø§Ø·Ù…', 'Ø¨Ù‡Ø§Ø±Ø§Øª', 'Ù…ÙƒØ³Ø±Ø§Øª'],
steps: ['Ø§Ù‚Ù„Ù Ø§Ù„Ø¨Ø§Ø°Ù†Ø¬Ø§Ù†', 'Ø³Ù„Ù‚ Ø§Ù„Ù„Ø­Ù…', 'Ø±ØªØ¨ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª ÙÙŠ Ø§Ù„Ù‚Ø¯Ø±', 'Ø£Ø¶Ù Ø§Ù„Ø£Ø±Ø² ÙˆØ§Ù„Ù…Ø±Ù‚', 'Ø§Ø·Ø¨Ø® Ø­ØªÙ‰ ÙŠÙ†Ø¶Ø¬', 'Ø§Ù‚Ù„Ø¨ Ø§Ù„Ù‚Ø¯Ø±']
},
{
id: 6,
name: 'ÙƒØ¨Ø³Ø© Ø§Ù„Ø¯Ø¬Ø§Ø¬',
category: 'main',
description: 'Ø·Ø¨Ù‚ Ø®Ù„ÙŠØ¬ÙŠ Ø´Ù‡ÙŠØ± Ø¨Ù†ÙƒÙ‡Ø§Øª Ø§Ù„Ø¨Ù‡Ø§Ø±Ø§Øª Ø§Ù„ØºÙ†ÙŠØ©',
ingredients: ['Ø¯Ø¬Ø§Ø¬Ø© ÙƒØ§Ù…Ù„Ø©', '3 Ø£ÙƒÙˆØ§Ø¨ Ø£Ø±Ø²', 'Ø·Ù…Ø§Ø·Ù…', 'Ø¨ØµÙ„', 'Ø¨Ù‡Ø§Ø±Ø§Øª Ø§Ù„ÙƒØ¨Ø³Ø©', 'Ø²Ø¨ÙŠØ¨ ÙˆÙ„ÙˆØ²'],
steps: ['Ø´ÙˆØ­ Ø§Ù„Ø¯Ø¬Ø§Ø¬', 'Ø£Ø¶Ù Ø§Ù„Ø·Ù…Ø§Ø·Ù… ÙˆØ§Ù„Ø¨Ù‡Ø§Ø±Ø§Øª', 'Ø£Ø¶Ù Ø§Ù„Ø£Ø±Ø² ÙˆØ§Ù„Ù…Ø±Ù‚', 'Ø§Ø·Ø¨Ø® Ø­ØªÙ‰ ÙŠÙ†Ø¶Ø¬', 'Ø­Ù…Ø± Ø§Ù„Ø¯Ø¬Ø§Ø¬', 'Ù‚Ø¯Ù…Ù‡ Ù…Ø¹ Ø§Ù„Ù…ÙƒØ³Ø±Ø§Øª']
},
{
id: 7,
name: 'ØªØ¨ÙˆÙ„Ø©',
category: 'salads',
description: 'Ø³Ù„Ø·Ø© Ù„Ø¨Ù†Ø§Ù†ÙŠØ© Ù…Ù†Ø¹Ø´Ø© Ø¨Ø§Ù„Ø¨Ù‚Ø¯ÙˆÙ†Ø³ ÙˆØ§Ù„Ø¨Ø±ØºÙ„',
ingredients: ['3 Ø¨Ø§Ù‚Ø§Øª Ø¨Ù‚Ø¯ÙˆÙ†Ø³', 'Ø±Ø¨Ø¹ ÙƒÙˆØ¨ Ø¨Ø±ØºÙ„', '3 Ø·Ù…Ø§Ø·Ù…', 'Ø¨ØµÙ„ Ø£Ø®Ø¶Ø±', 'Ù†Ø¹Ù†Ø§Ø¹', 'Ù„ÙŠÙ…ÙˆÙ†', 'Ø²ÙŠØª Ø²ÙŠØªÙˆÙ†'],
steps: ['Ø§Ù†Ù‚Ø¹ Ø§Ù„Ø¨Ø±ØºÙ„', 'Ø§ÙØ±Ù… Ø§Ù„Ø¨Ù‚Ø¯ÙˆÙ†Ø³ Ù†Ø§Ø¹Ù…Ø§Ù‹', 'Ø§Ø®Ù„Ø· Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª', 'ØªØ¨Ù„ Ø¨Ø§Ù„Ù„ÙŠÙ…ÙˆÙ† ÙˆØ§Ù„Ø²ÙŠØª']
},
{
id: 8,
name: 'ÙØªÙˆØ´',
category: 'salads',
description: 'Ø³Ù„Ø·Ø© Ø´Ø§Ù…ÙŠØ© Ø¨Ø§Ù„Ø®Ø¨Ø² Ø§Ù„Ù…Ø­Ù…Øµ ÙˆØ§Ù„Ø³Ù…Ø§Ù‚',
ingredients: ['Ø®Ø³', 'Ø·Ù…Ø§Ø·Ù…', 'Ø®ÙŠØ§Ø±', 'ÙØ¬Ù„', 'Ø®Ø¨Ø² Ù…Ø­Ù…Øµ', 'Ø³Ù…Ø§Ù‚', 'Ø¯Ø¨Ø³ Ø±Ù…Ø§Ù†'],
steps: ['Ù‚Ø·Ø¹ Ø§Ù„Ø®Ø¶Ø§Ø±', 'Ø­Ù…Øµ Ø§Ù„Ø®Ø¨Ø²', 'Ø§Ø®Ù„Ø· Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª', 'ØªØ¨Ù„ Ø¨Ø§Ù„Ø³Ù…Ø§Ù‚ ÙˆØ§Ù„Ø¯Ø¨Ø³']
},
{
id: 9,
name: 'ÙƒÙ†Ø§ÙØ© Ù†Ø§Ø¨Ù„Ø³ÙŠØ©',
category: 'desserts',
description: 'Ø­Ù„Ù‰ ÙÙ„Ø³Ø·ÙŠÙ†ÙŠ ØªÙ‚Ù„ÙŠØ¯ÙŠ Ø¨Ø§Ù„Ø¬Ø¨Ù† ÙˆØ§Ù„Ø´Ø¹ÙŠØ±ÙŠØ©',
ingredients: ['500 Ø¬Ù… ÙƒÙ†Ø§ÙØ©', '400 Ø¬Ù… Ø¬Ø¨Ù†', 'Ø³Ù…Ù†', 'Ù‚Ø·Ø±', 'ÙØ³ØªÙ‚'],
steps: ['ÙÙƒÙƒ Ø§Ù„ÙƒÙ†Ø§ÙØ©', 'Ø¶Ø¹ Ø·Ø¨Ù‚Ø© ÙÙŠ Ø§Ù„ØµÙŠÙ†ÙŠØ©', 'Ø£Ø¶Ù Ø§Ù„Ø¬Ø¨Ù†', 'ØºØ·Ù Ø¨Ø§Ù„ÙƒÙ†Ø§ÙØ©', 'Ø§Ø®Ø¨Ø²Ù‡Ø§', 'Ø§Ø³ÙƒØ¨ Ø§Ù„Ù‚Ø·Ø±']
},
{
id: 10,
name: 'Ø¨Ø³Ø¨ÙˆØ³Ø© Ø¨Ø§Ù„Ù‚Ø´Ø·Ø©',
category: 'desserts',
description: 'ÙƒÙŠÙƒ Ø§Ù„Ø³Ù…ÙŠØ¯ Ø§Ù„Ø°Ù‡Ø¨ÙŠ Ù…Ø¹ Ø§Ù„Ù‚Ø´Ø·Ø©',
ingredients: ['2 ÙƒÙˆØ¨ Ø³Ù…ÙŠØ¯', 'ÙƒÙˆØ¨ Ø³ÙƒØ±', 'Ø²Ø¨Ø§Ø¯ÙŠ', 'Ø²ÙŠØª', 'Ù‚Ø´Ø·Ø©', 'Ù‚Ø·Ø±'],
steps: ['Ø§Ø®Ù„Ø· Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª', 'Ø§Ø³ÙƒØ¨Ù‡Ø§ ÙÙŠ ØµÙŠÙ†ÙŠØ©', 'Ø§Ø®Ø¨Ø²Ù‡Ø§', 'Ø§Ø³ÙƒØ¨ Ø§Ù„Ù‚Ø·Ø±', 'Ø¶Ø¹ Ø§Ù„Ù‚Ø´Ø·Ø©']
}
];

function displayRecipes() {
filterRecipes('all');
}

function filterRecipes(category) {
document.querySelectorAll('.recipe-categories .date-btn').forEach(btn => btn.classList.remove('active'));
event.target.classList.add('active');

const container = document.getElementById('recipe-list');
const filtered = category === 'all' ? RECIPES : RECIPES.filter(r => r.category === category);

let html = '';
filtered.forEach(recipe => {
html += `
<div class="recipe-card" onclick="showRecipeDetail(${recipe.id})">
<div class="recipe-header">
<h3>${recipe.name}</h3>
<p>${recipe.description}</p>
</div>
<div class="recipe-body">
<p><strong>Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª:</strong> ${recipe.ingredients.length} Ø¹Ù†ØµØ±</p>
<p><strong>Ø§Ù„Ø®Ø·ÙˆØ§Øª:</strong> ${recipe.steps.length} Ø®Ø·ÙˆØ©</p>
<button class="btn-secondary" style="margin-top: 15px; width: 100%;">Ø¹Ø±Ø¶ Ø§Ù„ÙˆØµÙØ©</button>
</div>
</div>
`;
});

container.innerHTML = html;
}

function showRecipeDetail(id) {
const recipe = RECIPES.find(r => r.id === id);
if (!recipe) return;

let ingredientsHtml = '<ul>';
recipe.ingredients.forEach(ing => {
ingredientsHtml += `<li>${ing}</li>`;
});
ingredientsHtml += '</ul>';

let stepsHtml = '<ol>';
recipe.steps.forEach(step => {
stepsHtml += `<li>${step}</li>`;
});
stepsHtml += '</ol>';

const modal = document.createElement('div');
modal.className = 'modal active';
modal.innerHTML = `
<div class="modal-content">
<span class="close-modal" onclick="this.parentElement.parentElement.remove()">Ã—</span>
<h2 style="color: var(--primary); margin-bottom: 20px;">${recipe.name}</h2>
<p style="margin-bottom: 20px; line-height: 1.8;">${recipe.description}</p>
<div class="recipe-ingredients">
<h3 style="color: var(--primary); margin-bottom: 10px;">Ø§Ù„Ù…Ù‚Ø§Ø¯ÙŠØ±:</h3>
${ingredientsHtml}
</div>
<div class="recipe-steps">
<h3 style="color: var(--primary); margin-bottom: 10px;">Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªØ­Ø¶ÙŠØ±:</h3>
${stepsHtml}
</div>
</div>
`;
document.body.appendChild(modal);
}

const HADITH_SAMPLES = [
{
text: 'Ø¹Ù† Ø£Ø¨ÙŠ Ù‡Ø±ÙŠØ±Ø© Ø±Ø¶ÙŠ Ø§Ù„Ù„Ù‡ Ø¹Ù†Ù‡ Ù‚Ø§Ù„: Ù‚Ø§Ù„ Ø±Ø³ÙˆÙ„ Ø§Ù„Ù„Ù‡ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ³Ù„Ù…: Ø§Ù„ØµÙ„ÙˆØ§Øª Ø§Ù„Ø®Ù…Ø³ØŒ ÙˆØ§Ù„Ø¬Ù…Ø¹Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø¬Ù…Ø¹Ø©ØŒ ÙˆØ±Ù…Ø¶Ø§Ù† Ø¥Ù„Ù‰ Ø±Ù…Ø¶Ø§Ù†ØŒ Ù…ÙƒÙØ±Ø§Øª Ù…Ø§ Ø¨ÙŠÙ†Ù‡Ù† Ø¥Ø°Ø§ Ø§Ø¬ØªÙ†Ø¨ Ø§Ù„ÙƒØ¨Ø§Ø¦Ø±',
narrator: 'Ø£Ø¨Ùˆ Ù‡Ø±ÙŠØ±Ø©',
source: 'ØµØ­ÙŠØ­ Ù…Ø³Ù„Ù…',
grade: 'ØµØ­ÙŠØ­'
},
{
text: 'Ø¹Ù† Ø§Ø¨Ù† Ø¹Ù…Ø± Ø±Ø¶ÙŠ Ø§Ù„Ù„Ù‡ Ø¹Ù†Ù‡Ù…Ø§ Ù‚Ø§Ù„: Ù‚Ø§Ù„ Ø±Ø³ÙˆÙ„ Ø§Ù„Ù„Ù‡ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ³Ù„Ù…: Ø¨Ù†ÙŠ Ø§Ù„Ø¥Ø³Ù„Ø§Ù… Ø¹Ù„Ù‰ Ø®Ù…Ø³: Ø´Ù‡Ø§Ø¯Ø© Ø£Ù† Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡ ÙˆØ£Ù† Ù…Ø­Ù…Ø¯Ø§Ù‹ Ø±Ø³ÙˆÙ„ Ø§Ù„Ù„Ù‡ØŒ ÙˆØ¥Ù‚Ø§Ù… Ø§Ù„ØµÙ„Ø§Ø©ØŒ ÙˆØ¥ÙŠØªØ§Ø¡ Ø§Ù„Ø²ÙƒØ§Ø©ØŒ ÙˆØµÙˆÙ… Ø±Ù…Ø¶Ø§Ù†ØŒ ÙˆØ­Ø¬ Ø§Ù„Ø¨ÙŠØª',
narrator: 'Ø¹Ø¨Ø¯ Ø§Ù„Ù„Ù‡ Ø¨Ù† Ø¹Ù…Ø±',
source: 'ØµØ­ÙŠØ­ Ø§Ù„Ø¨Ø®Ø§Ø±ÙŠ',
grade: 'ØµØ­ÙŠØ­ Ù…ØªÙÙ‚ Ø¹Ù„ÙŠÙ‡'
},
{
text: 'Ø¹Ù† Ø£Ø¨ÙŠ Ù‡Ø±ÙŠØ±Ø© Ø±Ø¶ÙŠ Ø§Ù„Ù„Ù‡ Ø¹Ù†Ù‡ Ù‚Ø§Ù„: Ù‚Ø§Ù„ Ø±Ø³ÙˆÙ„ Ø§Ù„Ù„Ù‡ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ³Ù„Ù…: Ù‚Ø§Ù„ Ø§Ù„Ù„Ù‡ Ø¹Ø² ÙˆØ¬Ù„: ÙƒÙ„ Ø¹Ù…Ù„ Ø§Ø¨Ù† Ø¢Ø¯Ù… Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„ØµÙŠØ§Ù… ÙØ¥Ù†Ù‡ Ù„ÙŠ ÙˆØ£Ù†Ø§ Ø£Ø¬Ø²ÙŠ Ø¨Ù‡',
narrator: 'Ø£Ø¨Ùˆ Ù‡Ø±ÙŠØ±Ø©',
source: 'ØµØ­ÙŠØ­ Ø§Ù„Ø¨Ø®Ø§Ø±ÙŠ',
grade: 'ØµØ­ÙŠØ­ Ù…ØªÙÙ‚ Ø¹Ù„ÙŠÙ‡'
},
{
text: 'Ø¹Ù† Ø£Ø¨ÙŠ Ù‡Ø±ÙŠØ±Ø© Ø±Ø¶ÙŠ Ø§Ù„Ù„Ù‡ Ø¹Ù†Ù‡ Ù‚Ø§Ù„: Ù‚Ø§Ù„ Ø±Ø³ÙˆÙ„ Ø§Ù„Ù„Ù‡ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ³Ù„Ù…: Ù…Ù† ØµØ§Ù… Ø±Ù…Ø¶Ø§Ù† Ø¥ÙŠÙ…Ø§Ù†Ø§Ù‹ ÙˆØ§Ø­ØªØ³Ø§Ø¨Ø§Ù‹ ØºÙØ± Ù„Ù‡ Ù…Ø§ ØªÙ‚Ø¯Ù… Ù…Ù† Ø°Ù†Ø¨Ù‡',
narrator: 'Ø£Ø¨Ùˆ Ù‡Ø±ÙŠØ±Ø©',
source: 'ØµØ­ÙŠØ­ Ø§Ù„Ø¨Ø®Ø§Ø±ÙŠ',
grade: 'ØµØ­ÙŠØ­ Ù…ØªÙÙ‚ Ø¹Ù„ÙŠÙ‡'
},
{
text: 'Ø¹Ù† Ø£Ø¨ÙŠ Ù‡Ø±ÙŠØ±Ø© Ø±Ø¶ÙŠ Ø§Ù„Ù„Ù‡ Ø¹Ù†Ù‡ Ù‚Ø§Ù„: Ù‚Ø§Ù„ Ø±Ø³ÙˆÙ„ Ø§Ù„Ù„Ù‡ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ³Ù„Ù…: Ù…Ù† Ù‚Ø§Ù… Ù„ÙŠÙ„Ø© Ø§Ù„Ù‚Ø¯Ø± Ø¥ÙŠÙ…Ø§Ù†Ø§Ù‹ ÙˆØ§Ø­ØªØ³Ø§Ø¨Ø§Ù‹ ØºÙØ± Ù„Ù‡ Ù…Ø§ ØªÙ‚Ø¯Ù… Ù…Ù† Ø°Ù†Ø¨Ù‡',
narrator: 'Ø£Ø¨Ùˆ Ù‡Ø±ÙŠØ±Ø©',
source: 'ØµØ­ÙŠØ­ Ø§Ù„Ø¨Ø®Ø§Ø±ÙŠ',
grade: 'ØµØ­ÙŠØ­ Ù…ØªÙÙ‚ Ø¹Ù„ÙŠÙ‡'
}
];

function displayHadith() {
const container = document.getElementById('hadith-list');
let html = '';

HADITH_SAMPLES.forEach((hadith, index) => {
html += `
<div class="hadith-card">
<div class="hadith-text">${hadith.text}</div>
<div class="hadith-meta">
<div><strong>Ø§Ù„Ø±Ø§ÙˆÙŠ:</strong> <span>${hadith.narrator}</span></div>
<div><strong>Ø§Ù„Ù…ØµØ¯Ø±:</strong> <span>${hadith.source}</span></div>
<div><strong>Ø§Ù„Ø¯Ø±Ø¬Ø©:</strong> <span style="color: var(--success);">${hadith.grade}</span></div>
</div>
</div>
`;
});

container.innerHTML = html;
}

function searchHadith(query) {
if (!query) {
displayHadith();
return;
}

const filtered = HADITH_SAMPLES.filter(h =>
h.text.includes(query) || h.narrator.includes(query)
);

const container = document.getElementById('hadith-list');
let html = '';

filtered.forEach(hadith => {
html += `
<div class="hadith-card">
<div class="hadith-text">${hadith.text}</div>
<div class="hadith-meta">
<div><strong>Ø§Ù„Ø±Ø§ÙˆÙŠ:</strong> <span>${hadith.narrator}</span></div>
<div><strong>Ø§Ù„Ù…ØµØ¯Ø±:</strong> <span>${hadith.source}</span></div>
<div><strong>Ø§Ù„Ø¯Ø±Ø¬Ø©:</strong> <span style="color: var(--success);">${hadith.grade}</span></div>
</div>
</div>
`;
});

container.innerHTML = html || '<p style="text-align: center; padding: 40px;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬</p>';
}

function setupAdhanSelector() {
const container = document.getElementById('adhan-selector');
let html = '';

ADHAN_VIDEOS.options.forEach(option => {
const isSelected = option.id === selectedAdhan;
html += `
<div class="adhan-option ${isSelected ? 'selected' : ''}" onclick="selectAdhan('${option.id}')">
<span>${option.name}</span>
<span>${isSelected ? 'âœ“' : ''}</span>
</div>
`;
});

container.innerHTML = html;
}

function selectAdhan(id) {
selectedAdhan = id;
setupAdhanSelector();
showNotification('ØªÙ… ØªØºÙŠÙŠØ± ØµÙˆØª Ø§Ù„Ø£Ø°Ø§Ù†');
}

function incrementTasbih() {
tasbihCount++;
document.getElementById('tasbih-count').textContent = tasbihCount;

if (navigator.vibrate && document.getElementById('vibration').checked) {
navigator.vibrate(50);
}

saveTasbihToStorage();

if (tasbihCount >= tasbihGoal) {
showNotification(`Ù…Ø¨Ø§Ø±Ùƒ! Ù„Ù‚Ø¯ Ø£ØªÙ…Ù…Øª ${tasbihGoal} ØªØ³Ø¨ÙŠØ­Ø©`);
}
}

function resetTasbih() {
tasbihCount = 0;
document.getElementById('tasbih-count').textContent = '0';
saveTasbihToStorage();
showNotification('ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø¹Ø¯Ø§Ø¯');
}

function setTasbihGoal() {
const goal = prompt('Ø£Ø¯Ø®Ù„ Ø¹Ø¯Ø¯ Ø§Ù„ØªØ³Ø¨ÙŠØ­Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:', tasbihGoal);
if (goal && !isNaN(goal)) {
tasbihGoal = parseInt(goal);
showNotification(`ØªÙ… ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù‡Ø¯Ù Ø¥Ù„Ù‰ ${tasbihGoal} ØªØ³Ø¨ÙŠØ­Ø©`);
}
}

function setTasbihText(text) {
currentTasbihText = text;
document.getElementById('tasbih-text').textContent = text;
}

function saveTasbihToStorage() {
localStorage.setItem('tasbihCount', tasbihCount);
localStorage.setItem('tasbihGoal', tasbihGoal);
localStorage.setItem('tasbihText', currentTasbihText);
}

function loadTasbihFromStorage() {
const savedCount = localStorage.getItem('tasbihCount');
const savedGoal = localStorage.getItem('tasbihGoal');
const savedText = localStorage.getItem('tasbihText');

if (savedCount) tasbihCount = parseInt(savedCount);
if (savedGoal) tasbihGoal = parseInt(savedGoal);
if (savedText) currentTasbihText = savedText;

document.getElementById('tasbih-count').textContent = tasbihCount;
document.getElementById('tasbih-text').textContent = currentTasbihText;
}

async function getQiblaDirection() {
if (!navigator.geolocation) {
showNotification('Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§ ÙŠØ¯Ø¹Ù… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹');
return;
}

document.getElementById('qibla-status').textContent = 'Ø¬Ø§Ø±ÙŠ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø§ØªØ¬Ø§Ù‡...';

navigator.geolocation.getCurrentPosition(
position => {
const lat = position.coords.latitude;
const lng = position.coords.longitude;

const qiblaAngle = calculateQibla(lat, lng);
document.getElementById('qibla-degree').textContent = `${Math.round(qiblaAngle)}Â°`;
document.getElementById('compass-arrow').style.transform = `rotate(${qiblaAngle}deg)`;
document.getElementById('qibla-status').textContent = 'Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ù‚Ø¨Ù„Ø© Ù…Ø­Ø¯Ø¯ Ø¨Ù†Ø¬Ø§Ø­';
showNotification('ØªÙ… ØªØ­Ø¯ÙŠØ¯ Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ù‚Ø¨Ù„Ø©');
},
error => {
document.getElementById('qibla-status').textContent = 'ÙØ´Ù„ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹';
showNotification('ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹Ùƒ');
}
);
}

function calculateQibla(lat, lng) {
const meccaLat = 21.4225;
const meccaLng = 39.8262;

const dLng = (meccaLng - lng) * Math.PI / 180;
const lat1 = lat * Math.PI / 180;
const lat2 = meccaLat * Math.PI / 180;

const y = Math.sin(dLng) * Math.cos(lat2);
const x = Math.cos(lat1) * Math.sin(lat2) - Math.sin(lat1) * Math.cos(lat2) * Math.cos(dLng);

let angle = Math.atan2(y, x) * 180 / Math.PI;
angle = (angle + 360) % 360;

return angle;
}

function checkPrayerTime() {
if (!prayerTimes) return;

const now = new Date();
const currentTime = `${String(now.getHours()).padStart(2, '0')}:${String(now.getMinutes()).padStart(2, '0')}`;

const notificationTime = parseInt(document.getElementById('notification-time').value);

for (const [prayer, time] of Object.entries(prayerTimes)) {
const prayerDate = new Date();
const [hours, minutes] = time.split(':');
prayerDate.setHours(parseInt(hours), parseInt(minutes), 0);

const diff = (prayerDate - now) / 1000 / 60;

if (diff > 0 && diff <= notificationTime && diff >= notificationTime - 1) {
showNotification(`ØªÙ†Ø¨ÙŠÙ‡: Ø¨Ø§Ù‚ÙŠ ${Math.round(diff)} Ø¯Ù‚ÙŠÙ‚Ø© Ø¹Ù„Ù‰ ØµÙ„Ø§Ø© ${getPrayerNameArabic(prayer)}`);
}

if (Math.abs(diff) < 1) {
playAdhan(prayer);
}
}
}

function getPrayerNameArabic(prayer) {
const names = {
Fajr: 'Ø§Ù„ÙØ¬Ø±',
Sunrise: 'Ø§Ù„Ø´Ø±ÙˆÙ‚',
Dhuhr: 'Ø§Ù„Ø¸Ù‡Ø±',
Asr: 'Ø§Ù„Ø¹ØµØ±',
Maghrib: 'Ø§Ù„Ù…ØºØ±Ø¨',
Isha: 'Ø§Ù„Ø¹Ø´Ø§Ø¡'
};
return names[prayer] || prayer;
}

function playAdhan(prayer) {
const modal = document.getElementById('adhan-modal');
const video = document.getElementById('adhan-video');

let videoUrl = ADHAN_VIDEOS.default;
if (prayer === 'Fajr') {
videoUrl = ADHAN_VIDEOS.fajr;
} else {
const selected = ADHAN_VIDEOS.options.find(o => o.id === selectedAdhan);
if (selected) videoUrl = selected.url;
}

video.src = videoUrl;
modal.classList.add('active');

video.onended = () => {
video.src = ADHAN_VIDEOS.dua;
video.play();
};
}

function closeAdhanModal() {
const modal = document.getElementById('adhan-modal');
const video = document.getElementById('adhan-video');
modal.classList.remove('active');
video.pause();
video.src = '';
}

function showNotification(message) {
const notification = document.createElement('div');
notification.className = 'notification';
notification.innerHTML = `
<p style="font-weight: 600; margin-bottom: 5px;">Ø¥Ø´Ø¹Ø§Ø±</p>
<p>${message}</p>
`;

document.body.appendChild(notification);

setTimeout(() => {
notification.classList.add('hide');
setTimeout(() => notification.remove(), 500);
}, 5000);
}

function setupNotifications() {
if ('Notification' in window) {
Notification.requestPermission();
}
}

function showSection(sectionId) {
document.querySelectorAll('.section').forEach(section => {
section.classList.remove('active');
});

document.querySelectorAll('.nav-btn').forEach(btn => {
btn.classList.remove('active');
});

document.getElementById(sectionId).classList.add('active');
event.target.classList.add('active');

window.scrollTo({ top: 0, behavior: 'smooth' });
}

function switchDate(type) {
currentDateType = type;
document.querySelectorAll('.date-switcher .date-btn').forEach(btn => {
btn.classList.remove('active');
});
event.target.classList.add('active');
updateDateTime();
}

window.addEventListener('load', initApp);

if ('serviceWorker' in navigator) {
navigator.serviceWorker.register('/sw.js').catch(() => {});
}
</script>

</body>
</html>